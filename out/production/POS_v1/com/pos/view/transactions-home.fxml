<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<BorderPane
        xmlns="http://javafx.com/javafx/17.0.12"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="com.pos.controller.TransactionsHomeController">

    <!-- Left Sidebar -->
    <left>
        <VBox spacing="0" style="-fx-background-color: #272848; -fx-pref-width: 250;">

            <!-- Logo -->
            <VBox alignment="CENTER" style="-fx-padding: 30 20 40 20;">
                <Rectangle arcHeight="15" arcWidth="15" fill="#54C1FB" height="60" width="60"/>
                <Label style="-fx-text-fill: white; -fx-padding: 15 0 0 0;" text="NexusPOS">
                    <font>
                        <Font name="SofiaPro-SemiBold" size="20.0"/>
                    </font>
                </Label>
            </VBox>

            <!-- Navigation Menu -->
            <VBox spacing="5" style="-fx-padding: 0 20 20 20;">

                <Button onAction="#showDashboard"
                        style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;"
                        text="Dashboard">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0"/>
                    </font>
                </Button>

                <Button onAction="#showCreateTransaction"
                        style="-fx-background-color: #6D71F9; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;"
                        text="Transactions">
                    <font>
                        <Font name="SofiaPro-Medium" size="14.0"/>
                    </font>
                </Button>

                <Button onAction="#showProducts"
                        style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;"
                        text="Products">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0"/>
                    </font>
                </Button>

                <Button onAction="#showCustomers"
                        style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;"
                        text="Customers">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0"/>
                    </font>
                </Button>
                <Button onAction="#showReports" style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;" text="Reports">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0" />
                    </font>
                </Button>
                <Button onAction="#showSettings"
                        style="-fx-background-color: transparent; -fx-background-radius: 8; -fx-text-fill: white; -fx-padding: 12;"
                        text="Settings">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0"/>
                    </font>
                </Button>


                <!-- Spacer -->
                <VBox VBox.vgrow="ALWAYS"/>

                <!-- Logout -->
                <Button onAction="#logout"
                        style="-fx-background-color: transparent; -fx-border-color: #54C1FB; -fx-border-radius: 8; -fx-text-fill: #54C1FB; -fx-padding: 12;"
                        text="Logout">
                    <font>
                        <Font name="SofiaPro-Regular" size="14.0"/>
                    </font>
                </Button>

            </VBox>
        </VBox>
    </left>

    <!-- Main Content Area -->
    <center>
        <VBox spacing="0" style="-fx-background-color: #EFF0F8;">

            <!-- Top Header Bar -->
            <HBox alignment="CENTER_LEFT"
                  style="-fx-background-color: white; -fx-padding: 20 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">

                <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                    <Label fx:id="welcomeLabel" style="-fx-text-fill: #272848;" text="Welcome back, Hareem!">
                        <font>
                            <Font name="SofiaPro-SemiBold" size="24.0"/>
                        </font>
                    </Label>

                    <Label fx:id="currentDateLabel" style="-fx-text-fill: #666;" text="Loading date...">
                        <font>
                            <Font name="SofiaPro-Regular" size="14.0"/>
                        </font>
                    </Label>
                </VBox>

                <VBox alignment="CENTER_RIGHT">
                    <Label fx:id="currentTimeLabel" style="-fx-text-fill: #272848;" text="00:00:00">
                        <font>
                            <Font name="SofiaPro-SemiBold" size="18.0"/>
                        </font>
                    </Label>

                    <Label style="-fx-text-fill: #666;" text="Logged in as: Hareem (Cashier)">
                        <font>
                            <Font name="SofiaPro-Regular" size="12.0"/>
                        </font>
                    </Label>
                </VBox>

            </HBox>

            <!-- Main Content -->
            <ScrollPane fitToWidth="true" style="-fx-background: transparent; -fx-border-color: transparent;">

                <VBox alignment="CENTER" spacing="40" style="-fx-padding: 60;">

                    <!-- Main Action Cards -->
                    <VBox alignment="CENTER" spacing="30">

                        <!-- Create New Transaction Card -->
                        <VBox alignment="CENTER"
                              onMouseClicked="#showCreateTransaction"
                              style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 50 80; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 20, 0, 0, 5); -fx-cursor: hand;">

                            <Rectangle arcHeight="20" arcWidth="20" fill="#6D71F9" height="80" width="80"/>

                            <Label style="-fx-text-fill: #272848; -fx-padding: 25 0 10 0;"
                                   text="Create New Transaction">
                                <font>
                                    <Font name="SofiaPro-SemiBold" size="28.0"/>
                                </font>
                            </Label>

                            <Label style="-fx-text-fill: #666; -fx-text-alignment: center;"
                                   text="Start a new sale and process customer purchases"
                                   wrapText="true">
                                <font>
                                    <Font name="SofiaPro-Regular" size="16.0"/>
                                </font>
                            </Label>

                        </VBox>

                        <!-- Transaction History Card -->
                        <VBox alignment="CENTER"
                              onMouseClicked="#showTransactionHistory"
                              style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 40 80; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 20, 0, 0, 5); -fx-cursor: hand;">

                            <Rectangle arcHeight="15" arcWidth="15" fill="#54C1FB" height="60" width="60"/>

                            <Label style="-fx-text-fill: #272848; -fx-padding: 20 0 10 0;"
                                   text="Transaction History">
                                <font>
                                    <Font name="SofiaPro-SemiBold" size="24.0"/>
                                </font>
                            </Label>

                            <Label style="-fx-text-fill: #666; -fx-text-alignment: center;"
                                   text="View past transactions, receipts, and sales reports"
                                   wrapText="true">
                                <font>
                                    <Font name="SofiaPro-Regular" size="14.0"/>
                                </font>
                            </Label>

                        </VBox>

                    </VBox>

                    <!-- Quick Navigation Buttons -->
                    <HBox alignment="CENTER" spacing="20" style="-fx-padding: 20 0 0 0;"/>

                    <!-- Quick Stats -->
                    <HBox alignment="CENTER" spacing="20">

                        <!-- Today's Summary -->
                        <VBox style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-pref-width: 200; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                            <Label style="-fx-text-fill: #666;" text="Today's Sales">
                                <font>
                                    <Font name="SofiaPro-Regular" size="12.0"/>
                                </font>
                            </Label>

                            <Label style="-fx-text-fill: #272848; -fx-padding: 5 0;" text="PKR 18,320">
                                <font>
                                    <Font name="SofiaPro-SemiBold" size="18.0"/>
                                </font>
                            </Label>
                        </VBox>

                        <!-- Today's Transactions -->
                        <VBox style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 25; -fx-pref-width: 200; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                            <Label style="-fx-text-fill: #666;" text="Today's Transactions">
                                <font>
                                    <Font name="SofiaPro-Regular" size="12.0"/>
                                </font>
                            </Label>

                            <Label style="-fx-text-fill: #272848; -fx-padding: 5 0;" text="32 Orders">
                                <font>
                                    <Font name="SofiaPro-SemiBold" size="18.0"/>
                                </font>
                            </Label>
                        </VBox>

                    </HBox>

                </VBox>

            </ScrollPane>

        </VBox>
    </center>

</BorderPane>
